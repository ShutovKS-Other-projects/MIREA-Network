###############
#             #
#     RIP     #
#             #
###############

#C-RIP-1
ena
conf t
hostname KShutov-C-RIP-1

int e0/0
Description "KShutov-Main-Router"
ip address 17.34.1.2 255.255.255.0
no shutdown

int e0/1
Description "KShutov-C-RIP-3"
ip address 140.206.8.1 255.255.255.252
no shutdown

int e0/2
Description "KShutov-C-RIP-2"
ip address 140.206.9.1 255.255.255.252
no shutdown

exit

router rip
version 2
no auto-summary
network 140.206.8.0
network 140.206.9.0
network 17.34.1.0
redistribute connected

exit
exit
wr

#C-RIP-2
ena
conf t
hostname KShutov-C-RIP-2

int e0/0
Description "KShutov-C-RIP-3"
ip address 100.152.85.1 255.255.255.252
no shutdown

int e0/1
Description "KShutov-C-RIP-1"
ip address 140.206.9.2 255.255.255.252
no shutdown

int e0/2
Description "KShutov-C-RIP-4"
ip address 213.254.11.1 255.255.255.252
no shutdown

int e0/3
Description "KShutov-C-RIP-5"
ip address 93.175.249.1 255.255.255.252
no shutdown

exit

router rip
version 2
no auto-summary
network 100.152.85.0
network 140.206.9.0
network 213.254.11.0
network 93.175.249.0
redistribute connected

exit
exit
wr

#C-RIP-3
ena
conf t
hostname KShutov-C-RIP-3

int e0/0
Description "KShutov-C-RIP-1"
ip address 140.206.8.2 255.255.255.252
no shutdown

int e0/1
Description "KShutov-C-RIP-2"
ip address 100.152.85.2 255.255.255.252
no shutdown

int e0/2
Description "KShutov-C-RIP-4"
ip address 213.254.10.1 255.255.255.252
no shutdown

int e0/3
Description "KShutov-C-RIP-6"
ip address 75.89.43.1 255.255.255.252
no shutdown

exit

router rip
version 2
no auto-summary
network 140.206.8.0
network 100.152.85.0
network 213.254.10.0
network 75.89.43.0
redistribute connected

exit
exit
wr

#C-RIP-4
ena
conf t
hostname KShutov-C-RIP-4

int e0/0
Description "KShutov-C-RIP-2"
ip address 213.254.11.2 255.255.255.252
no shutdown

int e0/1
Description "KShutov-C-RIP-3"
ip address 213.254.10.2 255.255.255.252
no shutdown

int e0/2
Description "KShutov-C-RIP-6"
ip address 213.254.13.1 255.255.255.252
no shutdown

int e0/3
Description "KShutov-C-RIP-5"
ip address 213.254.12.1 255.255.255.252
no shutdown

exit

router rip
version 2
no auto-summary
network 213.254.13.0
network 213.254.12.0
network 213.254.10.0
network 213.254.11.0
redistribute connected
 
exit
exit
wr

#C-RIP-6
ena
conf t
hostname KShutov-C-RIP-6

int e0/0
Description "KShutov-C-RIP-4"
ip address 213.254.13.2 255.255.255.252
no shutdown

int e0/1
Description "KShutov-C-RIP-7"
ip address 80.87.80.1 255.255.255.252
no shutdown

int e0/2
Description "KShutov-C-RIP-5"
ip address 100.152.86.2 255.255.255.252
no shutdown

int e0/3
Description "KShutov-C-RIP-3"
ip address 75.89.43.2 255.255.255.252
no shutdown

int e1/0
Description "KShutov-M-RIP-1"
ip address 75.89.44.1 255.255.255.252
no shutdown

int e1/1
Description "KShutov-L2TP-Server"
ip address 75.89.46.0 255.255.255.252
no shutdown

int e1/2
Description "KShutov-L2TP-Client"
ip address 76.89.46.1 255.255.255.252
no shutdown

exit

router rip
version 2
no auto-summary
network 213.254.13.0
network 80.87.80.0
network 100.152.86.0
network 75.89.43.0
network 75.89.44.0
network 75.89.46.0
network 76.89.46.0
redistribute connected
 
exit
exit
wr

#C-RIP-5
ena
conf t
hostname KShutov-C-RIP-5

int e0/0
Description "KShutov-C-RIP-4"
ip address 213.254.12.2 255.255.255.252
no shutdown

int e0/1
Description "KShutov-C-RIP-7"
ip address 80.87.81.1 255.255.255.252
no shutdown

int e0/2
Description "KShutov-C-RIP-6"
ip address 100.152.86.1 255.255.255.252
no shutdown

int e0/3
Description "KShutov-M-RIP-2"
ip address 93.175.240.1 255.255.255.252
no shutdown

int e1/0
Description "KShutov-C-RIP-2"
ip address 93.175.249.2 255.255.255.252
no shutdown

exit

router rip
version 2
no auto-summary
network 213.254.12.0
network 80.87.81.0
network 100.152.86.0
network 93.175.240.0
network 93.175.249.0
redistribute connected
 
exit
exit
wr

#C-RIP-7
ena
conf t
hostname KShutov-C-RIP-7

int e0/0
Description "KShutov-C-RIP-6"
ip address 80.87.80.2 255.255.255.252
no shutdown

int e0/1
Description "KShutov-C-RIP-5"
ip address 80.87.81.2 255.255.255.252
no shutdown

int e0/2
Description "KShutov-M-RIP-2"
ip address 80.87.82.1 255.255.255.252
no shutdown

int e0/3
Description "KShutov-M-RIP-1"
ip address 80.87.84.1 255.255.255.252
no shutdown

int e1/0
Description "KShutov-C-RIP-10"
ip address 80.87.83.1 255.255.255.252
no shutdown

exit

router rip
version 2
no auto-summary
network 80.87.80.0
network 80.87.81.0
network 80.87.82.0
network 80.87.84.0
network 80.87.83.0
redistribute connected
 
exit
exit
wr

#C-RIP-10
ena
conf t
hostname KShutov-C-RIP-10

int e0/0
Description "KShutov-M-RIP-1"
ip address 186.71.48.2 255.255.255.252
no shutdown

int e0/1
Description "KShutov-M-RIP-2"
ip address 186.68.48.2 255.255.255.252
no shutdown

int e0/2
Description "KShutov-C-RIP-7"
ip address 80.87.83.2 255.255.255.252
no shutdown

int e0/3
Description "KShutov-EXtraNet-1"
# ip address  255.255.255.252
no shutdown

exit

router rip
version 2
no auto-summary
network 186.71.48.0
network 186.68.48.0
network 80.87.83.0
redistribute connected
 
exit
exit
wr

#M-RIP-1
/interface wireless security-profiles
set [ find default=yes ] supplicant-identity=MikroTik
/ip address
add address=80.87.84.2/30 interface=ether1 network=80.87.84.0
add address=75.89.44.2/30 interface=ether2 network=75.89.44.0
add address=186.71.48.1/30 interface=ether3 network=186.71.48.0
/routing rip network
add network=75.89.44.0/30
add network=186.71.48.0/30
add network=80.87.84.0/30
/system identity
set name=KShutov-M-RIP-1
/ip dhcp-client
remove 0

#M-RIP-2
/interface wireless security-profiles
set [ find default=yes ] supplicant-identity=MikroTik
/ip address
add address=80.87.82.2/30 interface=ether1 network=80.87.82.0
add address=186.68.48.1/30 interface=ether2 network=186.68.48.0
add address=93.175.240.2/30 interface=ether3 network=93.175.240.0
/routing rip network
add network=80.87.82.0/30
add network=186.68.48.0/30
add network=93.175.240.0/30
/system identity
set name=KShutov-M-RIP-2
/ip dhcp-client
remove 0/


###############
#             #
#    OSPF     #
#             #
###############

#C-OSPF-5
ena
conf t
hostname "KShutov-C-OSPF-5"

int e0/0
Description "KShutov-C-OSPF-4"
ip address 12.71.10.17 255.255.255.252
no shutdown

int e0/1
Description "KShutov-M-OSPF-5"
ip address 12.68.16.2 255.255.255.252
no shutdown

int e0/2
Description "KShutov-M-OSPF-4"
ip address 12.65.12.1 255.255.255.252
no shutdown

int e0/3
Description "KShutov-EXtraNet-2"
# ip address  255.255.255.252
no shutdown

exit

router ospf 1
network 12.65.12.0 0.0.0.3 area 0
network 12.68.16.0 0.0.0.3 area 0
network 12.71.10.16 0.0.0.3 area 0
exit

exit
wr 

#C-OSPF-4
en
conf t
hostname KShutov-C-OSPF-4

int e0/0
description "KShutov-C-OSPF-3"
ip address 12.71.10.14 255.255.255.252
no shutdown

int e0/1
description "KShutov-C-OSPF-5"
ip address 12.71.10.18 255.255.255.252
no shutdown

exit
exit
wr

conf t
router ospf 1
network 12.71.10.16 0.0.0.3 area 0
network 12.71.10.12 0.0.0.3 area 0
exit
exit
wr

#M-OSPF-4
/interface bridge
add name=loopback
/interface wireless security-profiles
set [ find default=yes ] supplicant-identity=MikroTik
/routing ospf instance
set [ find default=yes ] router-id=10.255.255.4
/ip address
add address=12.68.12.2/30 comment=KShutov-M-OSPF-3 interface=ether1 \
    network=12.68.12.0
add address=12.65.11.2/30 comment=KShutov-M-OSPF-2 interface=ether2 \
    network=12.65.11.0
add address=12.68.15.1/30 comment=KShutov-M-OSPF-5 interface=ether3 \
    network=12.68.15.0
add address=12.65.12.1/30 comment=KShutov-C-OSPF-5 interface=ether4 \
    network=12.65.12.0

add address=10.255.255.4 interface=loopback network=10.255.255.4
/routing ospf network
add area=backbone network=12.68.12.0/30
add area=backbone network=12.68.15.0/30
add area=backbone network=12.65.11.0/30
add area=backbone network=12.65.12.0/30
/system identity
set name=KShutov-M-OSPF-4
/ip dhcp-client
remove 0

#M-OSPF-5
/interface wireless security-profiles
set [ find default=yes ] supplicant-identity=MikroTik
/routing ospf instance
set [ find default=yes ] router-id=10.255.255.5
/ip address
add address=12.68.15.2/30 comment=KShutov-M-OSPF-4 interface=ether1 \
    network=12.68.15.0
add address=12.68.17.1/30 comment=KShutov-C-OSPF-3 interface=ether2 \
    network=12.68.17.0
add address=12.68.16.1/30 comment=KShutov-C-OSPF-5 interface=ether3 \
    network=12.68.16.0
add address=12.68.14.2/30 comment=KShutov-C-OSPF-2 interface=ether4 \
    network=12.68.14.0
/routing ospf network
add area=backbone network=12.68.15.0/30
add area=backbone network=12.68.16.0/30
add area=backbone network=12.68.14.0/30
add area=backbone network=12.68.17.0/30
/system identity
set name=KShutov-M-OSPF-5
/ip dhcp-client
remove 0

#C-OSPF-3
en
conf t
hostname KShutov-C-OSPF-3

int e0/0
description "KShutov-C-OSPF-2"
ip address 12.71.10.10 255.255.255.252
no shutdown

int e0/1
description "KShutov-C-OSPF-4"
ip address 12.71.10.13 255.255.255.252
no shutdown

int e0/2
description "KShutov-M-OSPF-5"
ip address 12.68.17.2 255.255.255.252
no shutdown

int e0/3
description "KShutov-IPSec-IKEv2"
ip address 12.71.20.2 255.255.255.252
no shutdown

int e1/0
description "KShutov-IKEv2-Client"
ip address 12.71.21.2 255.255.255.252
no shutdown
exit
exit
wr

conf t
router ospf 1
network 12.71.10.12 0.0.0.3 area 0
network 12.68.17.0 0.0.0.3 area 0
network 12.71.10.8 0.0.0.3 area 0
redistribute connected

exit
exit
wr

#M-OSPF-2
/interface bridge
add name=loopback
/interface wireless security-profiles
set [ find default=yes ] supplicant-identity=MikroTik
/routing ospf instance
set [ find default=yes ] router-id=10.255.255.2
/ip address
add address=12.65.10.2/30 comment=KShutov-M-OSPF-10 interface=ether1 \
    network=12.65.10.0
add address=12.68.11.1/30 comment=KShutov-M-OSPF-3 interface=ether2 \
    network=12.68.11.0
add address=12.65.11.1/30 comment=KShutov-M-OSPF-4 interface=ether3 \
    network=12.65.11.0
add address=10.255.255.2 interface=loopback network=10.255.255.2
/routing ospf network
add area=backbone network=12.65.10.0/30
add area=backbone network=12.68.11.0/30
add area=backbone network=12.65.11.0/30
/system identity
set name=KShutov-M-OSPF-2
/ip dhcp-client
remove 0

#M-OSPF-3
/interface bridge
add name=loopback
/interface wireless security-profiles
set [ find default=yes ] supplicant-identity=MikroTik
/routing ospf instance
set [ find default=yes ] router-id=10.255.255.3
/ip address
add address=12.68.10.2/30 comment=KShutovva-M-OSPF-10 interface=ether1 \
    network=12.68.10.0
add address=12.68.11.2/30 comment=KShutovva-M-OSPF-2 interface=ether2 \
    network=12.68.11.0
add address=12.68.12.1/30 comment=KShutovva-M-OSPF-4 interface=ether3 \
    network=12.68.12.0
add address=12.68.13.1/30 comment=KShutovva-C-OSPF-2 interface=ether4 \
    network=12.68.13.0
add address=10.255.255.3 interface=loopback network=10.255.255.3
/routing ospf network
add area=backbone network=12.68.10.0/30
add area=backbone network=12.68.11.0/30
add area=backbone network=12.68.12.0/30
add area=backbone network=12.68.13.0/30
/system identity
set name=KShutovva-M-OSPF-3
/ip dhcp-client
remove 0

#C-OSPF-2
en
conf t
hostname KShutov-C-OSPF-2

int e0/0
description "KShutov-C-OSPF-1"
ip address 12.71.10.6 255.255.255.252
no shutdown

int e0/1
description "KShutov-M-OSPF-3"
ip address 12.68.13.2 255.255.255.252
no shutdown

int e0/2
description "KShutov-C-OSPF-3"
ip address 12.71.10.9 255.255.255.252
no shutdown

int e0/3
description "KShutov-M-OSPF-5"
ip address 12.68.14.1 255.255.255.252
no shutdown

exit
exit
wr

conf t
router ospf 1
network 12.71.10.4 0.0.0.3 area 0
network 12.68.13.0 0.0.0.3 area 0
network 12.68.14.0 0.0.0.3 area 0
network 12.71.10.8 0.0.0.3 area 0

exit
exit
wr

#M-OSPF-10
/interface bridge
add name=loopback
/interface wireless security-profiles
set [ find default=yes ] supplicant-identity=MikroTik
/routing bgp instance
set default redistribute-static=yes
add as=300 name=BGP300 redistribute-connected=yes redistribute-ospf=yes \
    redistribute-static=yes router-id=10.255.255.10
/routing ospf instance
set [ find default=yes ] distribute-default=if-installed-as-type-1 \
    redistribute-bgp=as-type-1 redistribute-connected=as-type-1 \
    redistribute-other-ospf=as-type-1 redistribute-static=as-type-1 \
    router-id=10.255.255.10
/ip address
add address=12.65.10.1/30 comment=KShutov-M-OSPF-2 interface=ether3 \
    network=12.65.10.0
add address=12.68.10.1/30 comment=KShutov-M-OSPF-3 interface=ether4 \
    network=12.68.10.0
add address=12.71.10.1/30 comment=KShutov-C-OSPF-1 interface=ether5 \
    network=12.71.10.0
add address=14.34.1.2/30 comment=KShutov-Main-Router interface=ether1 \
    network=14.34.1.0
add address=18.34.1.2/30 comment=KShutov-C-RIP-1 interface=ether2 network=\
    18.34.1.0
add address=15.34.1.2/30 comment=KShutov-C-iBGP-102 interface=ether6 \
    network=15.34.1.0
add address=10.255.255.10 interface=loopback network=10.255.255.10
/routing bgp peer
add default-originate=if-installed instance=BGP300 name=peer1 remote-address=\
    18.34.1.1 remote-as=200
add default-originate=if-installed instance=BGP300 name=peer2 remote-address=\
    14.34.1.1 remote-as=100
/routing ospf network
add area=backbone network=12.65.10.0/30
add area=backbone network=12.68.10.0/30
add area=backbone network=12.71.10.0/30
/system identity
set name=KShutov-M-OSPF-10
/ip dhcp-client
remove 0